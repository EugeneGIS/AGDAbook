<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 9 DBSCAN for 3D fetures detection in point clouds | Advanced Geospatial Data Analysis in R - Environmental applications</title>
  <meta name="description" content="Chapter 9 DBSCAN for 3D fetures detection in point clouds | Advanced Geospatial Data Analysis in R - Environmental applications" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 9 DBSCAN for 3D fetures detection in point clouds | Advanced Geospatial Data Analysis in R - Environmental applications" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 9 DBSCAN for 3D fetures detection in point clouds | Advanced Geospatial Data Analysis in R - Environmental applications" />
  
  
  

<meta name="author" content="Dr. Marj Tonini, Haokun Liu" />


<meta name="date" content="2024-05-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="segmentation-analysis-with-som-on-census-data.html"/>
<link rel="next" href="references-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img src="images/AGDA_ImageCover.webp"></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#book-overview"><i class="fa fa-check"></i>Book overview</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#computing-lab"><i class="fa fa-check"></i>Computing lab</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#target-audience"><i class="fa fa-check"></i>Target audience</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors-information"><i class="fa fa-check"></i>Authors information</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#my-journey-of-learning-integrating-geospatial-data-analysis-with-data-science"><i class="fa fa-check"></i>My Journey of Learning: Integrating Geospatial Data Analysis with Data Science</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-language"><i class="fa fa-check"></i><b>1.1</b> R Language</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-packages"><i class="fa fa-check"></i><b>1.1.1</b> R Packages</a></li>
<li class="chapter" data-level="1.1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#some-tips"><i class="fa fa-check"></i><b>1.1.2</b> Some tips</a></li>
<li class="chapter" data-level="1.1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-commands-online-resources"><i class="fa fa-check"></i><b>1.1.3</b> R Commands (online resources)</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#r-markdown"><i class="fa fa-check"></i><b>1.2</b> R Markdown</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-type-in-computational-analysis"><i class="fa fa-check"></i><b>1.3</b> Data type in computational analysis</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#variables"><i class="fa fa-check"></i><b>1.3.1</b> Variables</a></li>
<li class="chapter" data-level="1.3.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-structure-in-r"><i class="fa fa-check"></i><b>1.3.2</b> Data structure in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html"><i class="fa fa-check"></i><b>2</b> Basic operation with geodata in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plotting-vector-dataset"><i class="fa fa-check"></i><b>2.2</b> Plotting vector dataset</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#package-sf-and-vector-dataset"><i class="fa fa-check"></i><b>2.2.1</b> Package <strong>sf</strong> and vector dataset</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plot-vector-features"><i class="fa fa-check"></i><b>2.2.2</b> Plot vector features</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plotting-raster-dataset"><i class="fa fa-check"></i><b>2.3</b> Plotting raster dataset</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#terra-package-and-raster-dataset"><i class="fa fa-check"></i><b>2.3.1</b> Terra package and raster dataset</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#plot-raster-features"><i class="fa fa-check"></i><b>2.3.2</b> Plot raster features</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#geodata-manipulation"><i class="fa fa-check"></i><b>2.4</b> Geodata manipulation</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#manipulate-tabular-datasets"><i class="fa fa-check"></i><b>2.4.1</b> Manipulate tabular datasets</a></li>
<li class="chapter" data-level="2.4.2" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#pipes-chaining-of-multiple-operations"><i class="fa fa-check"></i><b>2.4.2</b> Pipes: chaining of multiple operations</a></li>
<li class="chapter" data-level="2.4.3" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#join-table"><i class="fa fa-check"></i><b>2.4.3</b> Join table</a></li>
<li class="chapter" data-level="2.4.4" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#mapping-with-ggplot2"><i class="fa fa-check"></i><b>2.4.4</b> Mapping with ggplot2</a></li>
<li class="chapter" data-level="2.4.5" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#cropping-ratser"><i class="fa fa-check"></i><b>2.4.5</b> Cropping ratser</a></li>
<li class="chapter" data-level="2.4.6" data-path="basic-operation-with-geodata-in-r.html"><a href="basic-operation-with-geodata-in-r.html#display-categorical-variables-for-a-raster"><i class="fa fa-check"></i><b>2.4.6</b> Display categorical variables for a raster</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html"><i class="fa fa-check"></i><b>3</b> Geographically Weighted Summary Statistics in Geosciences</a>
<ul>
<li class="chapter" data-level="3.1" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#gwss-for-fire-management"><i class="fa fa-check"></i><b>3.1</b> GWSS for fire management</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#the-overall-methodology"><i class="fa fa-check"></i><b>3.1.1</b> The overall methodology</a></li>
<li class="chapter" data-level="3.1.2" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#forest-fires-dataset"><i class="fa fa-check"></i><b>3.1.2</b> Forest fires dataset</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#computing-lab-gwss"><i class="fa fa-check"></i><b>3.2</b> Computing lab: GWSS</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#load-the-libraries"><i class="fa fa-check"></i><b>3.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="3.2.2" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#import-the-forest-fire-dataset"><i class="fa fa-check"></i><b>3.2.2</b> Import the forest fire dataset</a></li>
<li class="chapter" data-level="3.2.3" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#forest-fires-spatial-distribution"><i class="fa fa-check"></i><b>3.2.3</b> Forest fires spatial distribution</a></li>
<li class="chapter" data-level="3.2.4" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#compute-the-geographically-weighted-statistics"><i class="fa fa-check"></i><b>3.2.4</b> Compute the geographically weighted statistics</a></li>
<li class="chapter" data-level="3.2.5" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#look-at-the-results"><i class="fa fa-check"></i><b>3.2.5</b> Look at the results</a></li>
<li class="chapter" data-level="3.2.6" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#gwss-maps"><i class="fa fa-check"></i><b>3.2.6</b> GWSS maps</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="geographically-weighted-summary-statistics-in-geosciences.html"><a href="geographically-weighted-summary-statistics-in-geosciences.html#conclusions-and-further-analyses"><i class="fa fa-check"></i><b>3.3</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><i class="fa fa-check"></i><b>4</b> Spatio-Temporal Cluster Analysis of Geoenvironmental Processes</a>
<ul>
<li class="chapter" data-level="4.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#st-clustering-for-fire-management"><i class="fa fa-check"></i><b>4.1</b> ST clustering for fire management</a></li>
<li class="chapter" data-level="4.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#clustering-methods"><i class="fa fa-check"></i><b>4.2</b> Clustering methods</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ripleys-k-function"><i class="fa fa-check"></i><b>4.2.1</b> Ripley’s K-function</a></li>
<li class="chapter" data-level="4.2.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#kernel-density-estimator"><i class="fa fa-check"></i><b>4.2.2</b> Kernel density estimator</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#computing-lab-spatio-temporal-clustering"><i class="fa fa-check"></i><b>4.3</b> Computing lab: spatio-temporal clustering</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#load-the-libraries-1"><i class="fa fa-check"></i><b>4.3.1</b> Load the libraries</a></li>
<li class="chapter" data-level="4.3.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#import-the-forest-fire-dataset-1"><i class="fa fa-check"></i><b>4.3.2</b> Import the forest fire dataset</a></li>
<li class="chapter" data-level="4.3.3" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ff-subsets-based-on-the-burned-areas-size"><i class="fa fa-check"></i><b>4.3.3</b> FF-subsets based on the burned areas’ size</a></li>
<li class="chapter" data-level="4.3.4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#ff-subsets-based-on-their-geographical-distribution"><i class="fa fa-check"></i><b>4.3.4</b> FF-subsets based on their geographical distribution</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#space-time-k-function"><i class="fa fa-check"></i><b>4.4</b> Space-time K-function</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#extract-time-and-pts-object"><i class="fa fa-check"></i><b>4.4.1</b> Extract time and PTS object</a></li>
<li class="chapter" data-level="4.4.2" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#compute-the-space-time-k-function"><i class="fa fa-check"></i><b>4.4.2</b> Compute the space-time K-function</a></li>
<li class="chapter" data-level="4.4.3" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#assess-the-space-time-clustering-behavior"><i class="fa fa-check"></i><b>4.4.3</b> Assess the space-time clustering behavior</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html"><a href="spatio-temporal-cluster-analysis-of-geoenvironmental-processes.html#conclusions-and-further-analyses-1"><i class="fa fa-check"></i><b>4.5</b> Conclusions and further analyses</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html"><i class="fa fa-check"></i><b>5</b> Predictive Mapping of Natural Hazards Using Random Forest</a>
<ul>
<li class="chapter" data-level="5.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#rf-for-landslides-susceptibility-mapping"><i class="fa fa-check"></i><b>5.1</b> RF for landslides susceptibility mapping</a></li>
<li class="chapter" data-level="5.2" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#computing-lab-random-forest"><i class="fa fa-check"></i><b>5.2</b> Computing lab: Random Forest</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#load-the-libraries-2"><i class="fa fa-check"></i><b>5.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="5.2.2" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#import-and-process-geodata"><i class="fa fa-check"></i><b>5.2.2</b> Import and process geodata</a></li>
<li class="chapter" data-level="5.2.3" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#landslides-dataset"><i class="fa fa-check"></i><b>5.2.3</b> Landslides dataset</a></li>
<li class="chapter" data-level="5.2.4" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#predictor-variables"><i class="fa fa-check"></i><b>5.2.4</b> Predictor variables</a></li>
<li class="chapter" data-level="5.2.5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#the-use-of-categorical-variables-in-machine-learning"><i class="fa fa-check"></i><b>5.2.5</b> The use of categorical variables in Machine Learning</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#extract-values"><i class="fa fa-check"></i><b>5.3</b> Extract values</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#split-the-input-dataset-into-training-80-and-testing-20"><i class="fa fa-check"></i><b>5.3.1</b> Split the input dataset into training (80%) and testing (20%)</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#run-random-forest"><i class="fa fa-check"></i><b>5.4</b> Run Random Forest</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#rf-main-outputs"><i class="fa fa-check"></i><b>5.4.1</b> RF main outputs</a></li>
<li class="chapter" data-level="5.4.2" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#model-evaluation"><i class="fa fa-check"></i><b>5.4.2</b> Model evaluation</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#susceptibility-mapping"><i class="fa fa-check"></i><b>5.5</b> Susceptibility mapping</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#class-intervals-for-decision-maker"><i class="fa fa-check"></i><b>5.5.1</b> Class intervals for decision maker</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#conclusions-and-further-analyses-2"><i class="fa fa-check"></i><b>5.6</b> Conclusions and further analyses</a></li>
<li class="chapter" data-level="5.7" data-path="predictive-mapping-of-natural-hazards-using-random-forest.html"><a href="predictive-mapping-of-natural-hazards-using-random-forest.html#further-reading-on-this-topic"><i class="fa fa-check"></i><b>5.7</b> Further reading on this topic</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html"><i class="fa fa-check"></i><b>6</b> Interpretability &amp; Explainability with Random Forest</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#aim-of-the-present-lab"><i class="fa fa-check"></i><b>6.1</b> Aim of the present lab</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#re-load-libraries-and-workspace"><i class="fa fa-check"></i><b>6.1.1</b> Re-load libraries and workspace</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#features-importance-score"><i class="fa fa-check"></i><b>6.2</b> Features importance score</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="interpretability-explainability-with-random-forest.html"><a href="interpretability-explainability-with-random-forest.html#partial-dependence-plot"><i class="fa fa-check"></i><b>6.2.1</b> Partial dependence plot</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="local-random-forest.html"><a href="local-random-forest.html"><i class="fa fa-check"></i><b>7</b> Local Random Forest</a>
<ul>
<li class="chapter" data-level="7.1" data-path="local-random-forest.html"><a href="local-random-forest.html#computing-lab-grf"><i class="fa fa-check"></i><b>7.1</b> Computing lab: GRF</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="local-random-forest.html"><a href="local-random-forest.html#feature-importance"><i class="fa fa-check"></i><b>7.1.1</b> Feature importance</a></li>
<li class="chapter" data-level="7.1.2" data-path="local-random-forest.html"><a href="local-random-forest.html#local-r-squared"><i class="fa fa-check"></i><b>7.1.2</b> Local R squared</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="local-random-forest.html"><a href="local-random-forest.html#conclusions-and-further-analyses-3"><i class="fa fa-check"></i><b>7.2</b> Conclusions and further analyses</a></li>
<li class="chapter" data-level="7.3" data-path="local-random-forest.html"><a href="local-random-forest.html#further-reading-on-this-topic-1"><i class="fa fa-check"></i><b>7.3</b> Further reading on this topic</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html"><i class="fa fa-check"></i><b>8</b> Segmentation Analysis with SOM on Census Data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#geo-demographic-context-in-switzerland"><i class="fa fa-check"></i><b>8.1</b> Geo-demographic context in Switzerland</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#swiss-census-data"><i class="fa fa-check"></i><b>8.1.1</b> Swiss census data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#self-organizing-map"><i class="fa fa-check"></i><b>8.2</b> Self Organizing Map</a></li>
<li class="chapter" data-level="8.3" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#computing-lab-som"><i class="fa fa-check"></i><b>8.3</b> Computing lab: SOM</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#import-the-swiss-census-dataset"><i class="fa fa-check"></i><b>8.3.1</b> Import the Swiss census dataset</a></li>
<li class="chapter" data-level="8.3.2" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#load-the-libraries-3"><i class="fa fa-check"></i><b>8.3.2</b> Load the libraries</a></li>
<li class="chapter" data-level="8.3.3" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#run-som"><i class="fa fa-check"></i><b>8.3.3</b> Run SOM</a></li>
<li class="chapter" data-level="8.3.4" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#soms-main-outputs"><i class="fa fa-check"></i><b>8.3.4</b> SOM’s main outputs</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#hierarchical-clustering"><i class="fa fa-check"></i><b>8.4</b> Hierarchical clustering</a></li>
<li class="chapter" data-level="8.5" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#clusters-characterization"><i class="fa fa-check"></i><b>8.5</b> Clusters characterization</a></li>
<li class="chapter" data-level="8.6" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#conclusions"><i class="fa fa-check"></i><b>8.6</b> Conclusions</a></li>
<li class="chapter" data-level="8.7" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#further-analyses"><i class="fa fa-check"></i><b>8.7</b> Further analyses</a></li>
<li class="chapter" data-level="8.8" data-path="segmentation-analysis-with-som-on-census-data.html"><a href="segmentation-analysis-with-som-on-census-data.html#references"><i class="fa fa-check"></i><b>8.8</b> References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html"><i class="fa fa-check"></i><b>9</b> DBSCAN for 3D fetures detection in point clouds</a>
<ul>
<li class="chapter" data-level="9.1" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#the-overall-methodology-1"><i class="fa fa-check"></i><b>9.1</b> The overall methodology</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#dbscan-3-d-density-based-clustering-algorithm"><i class="fa fa-check"></i><b>9.1.1</b> DBSCAN: 3-D density based clustering algorithm</a></li>
<li class="chapter" data-level="9.1.2" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#field-campaign"><i class="fa fa-check"></i><b>9.1.2</b> Field campaign</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#computing-lab-dbscan"><i class="fa fa-check"></i><b>9.2</b> Computing lab: DBSCAN</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#load-the-libraries-4"><i class="fa fa-check"></i><b>9.2.1</b> Load the libraries</a></li>
<li class="chapter" data-level="9.2.2" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#import-and-visualize-the-point-clouds-dataset"><i class="fa fa-check"></i><b>9.2.2</b> Import and visualize the point clouds dataset</a></li>
<li class="chapter" data-level="9.2.3" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#run-dbscan"><i class="fa fa-check"></i><b>9.2.3</b> Run DBSCAN</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#conclusions-and-further-analyses-4"><i class="fa fa-check"></i><b>9.3</b> Conclusions and further analyses</a></li>
<li class="chapter" data-level="9.4" data-path="dbscan-for-3d-fetures-detection-in-point-clouds.html"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#further-reading-on-this-topic-2"><i class="fa fa-check"></i><b>9.4</b> Further reading on this topic</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Advanced Geospatial Data Analysis in R - Environmental applications</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dbscan-for-3d-fetures-detection-in-point-clouds" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Chapter 9</span> DBSCAN for 3D fetures detection in point clouds<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#dbscan-for-3d-fetures-detection-in-point-clouds" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Terrestrial laser scanning (TLS) has been one of the most successful methods for 3D data collection in the last few years.
Sequential acquisition can be used to detect and quantify surface changes.
The three main challenges arising from TLS data collection are: 1) the large number of points acquired is computationally intense and datasets have to be filtered depending on the aim of the investigation; 2) data collection methods suffer from perspective effects, which can lead to either zones of occlusion (shadow effect) or spatially-variable point densities; 3) 3D point clouds are normally interpolated to digital elevation models either as regular grids or triangulated irregular networks.
Thus, for change detection proposes (i.e. determination of topographic change, including erosion and deposition), it is appropriate to develop methods based upon the direct analysis of the point clouds using semi-automatic approaches allowing to detect and extract individual features.</p>
<p>In this practical computing lab we introduce a semi-automated method developed for isolating and identifying features of topographic change (i.e., apparent changes caused by surface displacements and indicating erosion or deposition) directly from point cloud data using a Density-Based Spatial Clustering of Applications with Noise (DBSCAN).
This methodology was developed in <span class="citation">Micheletti et al. (<a href="#ref-micheletti_geomorphological_2017">2017</a>)</span> for a very active rock glacier front located in the Swiss Alps: the Tsarmine rock glacier.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:jpg"></span>
<img src="images/Tsarmine2.jpg" alt="The Tsarmine rock glacier, Hérens Valley, in the Western Swiss Alps. Source: Micheletti et al, 2016 \label{Tsarmine}" width="50%" height="70%" />
<p class="caption">
Figure 3.1: The Tsarmine rock glacier, Hérens Valley, in the Western Swiss Alps. Source: Micheletti et al, 2016
</p>
</div>
<div id="the-overall-methodology-1" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> The overall methodology<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#the-overall-methodology-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Stepwise analysis:</strong></p>
<ol style="list-style-type: decimal">
<li>Point clouds were generated using a TLS on a number of dates.</li>
<li>Point clouds were co-registered using stable zones within the surveyed area.</li>
<li>Using a threshold value, only the points where there may have been some topographical change were selected.</li>
<li>The final dataset was treated with DBSCAN, aiming at grouping cluster-points into single features and filtering out noise points, found in low-density regions.</li>
</ol>
<p>The present lab deals with steps 2 and 3: 3D features detection using DBSCAN.
The detected features are finally labeled as clusters and visualized in a 3D map.</p>
<p>Material loss or gain can eventually be analysed in a GIS environment according to the elevation assignment of the change and the volume of change computed for each cluster by a triangulation process (not performed in this lab).</p>
<div id="dbscan-3-d-density-based-clustering-algorithm" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> DBSCAN: 3-D density based clustering algorithm<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#dbscan-3-d-density-based-clustering-algorithm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>DBSCAN allows identification of spatial clusters of arbitrary shape on the base of the local density of points.
Points that are close together are grouped into the same cluster, while isolated points are labelled as noise.</p>
<p>Two parameters are required to perform this classification: the minimum number of points necessary to form a cluster (<span class="math inline">\(MinPts\)</span>), and the neighborhood size epsilon (<span class="math inline">\(eps\)</span>).
The algorithm explores each point in the dataset, counting the number of the neighboring points falling within a circle (for the 2D model) or a sphere (for the 3D model) of radius equal to <span class="math inline">\(eps\)</span> (a).
If this number is equal to or greater than <span class="math inline">\(MinPts\)</span>, points are labelled as belonging to the same cluster (b).
If this number is lower than <span class="math inline">\(MinPts\)</span>, points are classified as noise.
The central point of each cluster is called “core-point”.
Since some points can be density-reachable by more than one core-point, they can belong to more than one cluster.
In this case clusters are blended together to form a unique feature of arbitrary shape (c).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:fig2"></span>
<img src="images/parameters.png" alt="Parameters in DBSCAN to form a cluster \label{dbscan}" width="163" />
<p class="caption">
Figure 9.1: Parameters in DBSCAN to form a cluster
</p>
</div>
</div>
<div id="field-campaign" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Field campaign<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#field-campaign" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>An ultra-long range LiDAR RIEGL VZ-6000 scanner was employed to acquire sequential 3D datasets of the rock glacier front.
TLS scans were performed on different dates over two consecutive summers: a first survey was carried out on the 23th of September 2014, and the last one on the 22th of September 2015.</p>
<p>DBSCAN requires as input a 3-dimensional dataset, which in our case consists on the points clouds (X,Y,Z) plus the displacement distance.
For the two co-registered datasets (2014 and 2015), we set the first as the target and the more recent as the reference.
For each point in the target cloud the corresponding nearest point in the reference cloud was identified and the distance between them evaluated using the software Cloud Compare.
Co-registration errors, estimated as noise and not real material loss/gain signals, has to be removed from the analysis.
Here, we noted from field observations that the size of displaced boulders is typically &gt; 0.30 m and we use this as a change criteria to remove the noise.</p>
</div>
</div>
<div id="computing-lab-dbscan" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Computing lab: DBSCAN<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#computing-lab-dbscan" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="load-the-libraries-4" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Load the libraries<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#load-the-libraries-4" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Fist you have to load the following libraries:</p>
<ul>
<li><strong>dbscan</strong>: a fast implementation of several density-based algorithms of the DBSCAN family.</li>
<li><strong>rgl</strong>: provides medium to high level functions for 3D interactive graphics</li>
<li><strong>plot3Drgl</strong>: plot 3D graphs in rgl window.</li>
<li><strong>classInt</strong>: selected methods to choose class intervals for mapping puposes.</li>
<li><strong>RColorBrewer</strong>: Provides color schemes for mapping.</li>
</ul>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;dbscan&quot;</span>)</span>
<span id="cb208-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;rgl&quot;</span>)</span>
<span id="cb208-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;plot3Drgl&quot;</span>)</span>
<span id="cb208-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-4" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;classInt&quot;</span>)</span>
<span id="cb208-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-5" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;RColorBrewer&quot;</span>)</span>
<span id="cb208-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-6" tabindex="-1"></a></span>
<span id="cb208-7"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb208-7" tabindex="-1"></a>(<span class="fu">.packages</span>())</span></code></pre></div>
<pre><code>##  [1] &quot;RColorBrewer&quot; &quot;classInt&quot;     &quot;plot3Drgl&quot;    &quot;plot3D&quot;       &quot;rgl&quot;         
##  [6] &quot;dbscan&quot;       &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;    &quot;utils&quot;       
## [11] &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;</code></pre>
</div>
<div id="import-and-visualize-the-point-clouds-dataset" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Import and visualize the point clouds dataset<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#import-and-visualize-the-point-clouds-dataset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We provide the dataset corresponding to one-year displacement distance, masked over the the rock glacier front.
The noise-points are removed using a threshold of 30 cm.
Finally we will plot the 3D-points cloud filtered dataset using the displacement distance as attribute to display the map.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-1" tabindex="-1"></a><span class="co"># Import point cloud dataset (ptc)</span></span>
<span id="cb210-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-2" tabindex="-1"></a><span class="co"># 1 year displacement TLS campaigns; data masked over the active front only.</span></span>
<span id="cb210-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-3" tabindex="-1"></a>ptc <span class="ot">&lt;-</span> <span class="fu">read.table</span>(<span class="st">&quot;data/DBSCAN/TsarmineRG_230914_frontonly_XYZ_dist_ref_220915.txt&quot;</span>, <span class="at">header=</span><span class="cn">FALSE</span>, <span class="at">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb210-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-4" tabindex="-1"></a></span>
<span id="cb210-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-5" tabindex="-1"></a><span class="co"># Add names to columns: X,Y, Z coordinates and the displacement distance &quot;d&quot;.</span></span>
<span id="cb210-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-6" tabindex="-1"></a><span class="fu">colnames</span>(ptc)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">&quot;Y&quot;</span>,<span class="st">&quot;X&quot;</span>,<span class="st">&quot;Z&quot;</span>,<span class="st">&quot;d&quot;</span>) <span class="co"># rename columns</span></span>
<span id="cb210-7"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-7" tabindex="-1"></a></span>
<span id="cb210-8"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-8" tabindex="-1"></a><span class="co"># Inspect the dataset:</span></span>
<span id="cb210-9"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-9" tabindex="-1"></a><span class="fu">str</span>(ptc)</span>
<span id="cb210-10"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-10" tabindex="-1"></a><span class="fu">summary</span>(ptc<span class="sc">$</span>d)</span>
<span id="cb210-11"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb210-11" tabindex="-1"></a><span class="fu">hist</span>(<span class="fu">log10</span>(ptc<span class="sc">$</span>d))</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/import-data-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-1" tabindex="-1"></a><span class="co"># Create a subset: removing noise-points (d&gt;30cm).</span></span>
<span id="cb211-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-2" tabindex="-1"></a>ptc30 <span class="ot">&lt;-</span> <span class="fu">subset</span>(ptc, d<span class="sc">&gt;=</span><span class="fl">0.3</span>)</span>
<span id="cb211-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-3" tabindex="-1"></a></span>
<span id="cb211-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-4" tabindex="-1"></a><span class="co"># Inspect the subset:</span></span>
<span id="cb211-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-5" tabindex="-1"></a><span class="fu">str</span>(ptc30)</span>
<span id="cb211-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb211-6" tabindex="-1"></a><span class="fu">summary</span>(ptc30<span class="sc">$</span>d)</span></code></pre></div>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-1" tabindex="-1"></a><span class="co"># Plot-3D: display 3D plot (X,Y,Z) with class intervals based on the distance d.</span></span>
<span id="cb212-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-2" tabindex="-1"></a></span>
<span id="cb212-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-3" tabindex="-1"></a><span class="co"># Create a class interval (int) based on natural breaks:</span></span>
<span id="cb212-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-4" tabindex="-1"></a>int <span class="ot">&lt;-</span> <span class="fu">classIntervals</span>(ptc30<span class="sc">$</span>d, <span class="at">n=</span><span class="dv">5</span>, <span class="at">style=</span><span class="st">&quot;fisher&quot;</span>) </span>
<span id="cb212-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-5" tabindex="-1"></a>  cut.vals<span class="ot">&lt;-</span>int<span class="sc">$</span>brks</span>
<span id="cb212-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-6" tabindex="-1"></a>  d.cut <span class="ot">&lt;-</span> <span class="fu">cut</span>(ptc30<span class="sc">$</span>d,cut.vals)</span>
<span id="cb212-7"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-7" tabindex="-1"></a>  cut.levels <span class="ot">&lt;-</span> <span class="fu">levels</span>(d.cut)</span>
<span id="cb212-8"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-8" tabindex="-1"></a>  cut.band <span class="ot">&lt;-</span> <span class="fu">match</span>(d.cut,cut.levels)</span>
<span id="cb212-9"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-9" tabindex="-1"></a>  cls <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">brewer.pal</span>(<span class="fu">length</span>(cut.levels), <span class="st">&quot;RdYlGn&quot;</span>))</span>
<span id="cb212-10"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-10" tabindex="-1"></a>  </span>
<span id="cb212-11"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-11" tabindex="-1"></a><span class="co"># Display the 3D-plot:</span></span>
<span id="cb212-12"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb212-12" tabindex="-1"></a><span class="fu">scatter3D</span>(ptc30<span class="sc">$</span>X, ptc30<span class="sc">$</span>Y, ptc30<span class="sc">$</span>Z, <span class="at">colvar =</span>ptc30<span class="sc">$</span>d, <span class="at">breaks=</span>cut.vals, <span class="at">cex=</span><span class="fl">0.5</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/points-clouds-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb213-1" tabindex="-1"></a><span class="fu">plotrgl</span>() <span class="co">#animated 3D-plot</span></span></code></pre></div>
</div>
<div id="run-dbscan" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Run DBSCAN<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#run-dbscan" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The two parameters <span class="math inline">\(eps\)</span> and <span class="math inline">\(MinPts\)</span> greatly affect the output cluster detection leading to the identification of a large number of small clusters (for small values) or a small number of large features of arbitrary shape (for large values).
Once fixed the <span class="math inline">\(MinPts\)</span> parameter, a suitable value for the <span class="math inline">\(eps\)</span> neighborhood size can be estimated using k-nearest neighbors (k-NN) distance graph, imposing k as equal to <span class="math inline">\(MinPts\)</span> and plotting the distance to the nearest neighbors.
The optimal <span class="math inline">\(eps\)</span>-value should coincide with the stronger curvature of the curve.</p>
<p>In the following, the minimum number of points allowing to form a cluster is fixed first, and then the plot of the k-NN distance is used to find a suitable value for the <span class="math inline">\(eps\)</span> neighborhood size.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb214-1" tabindex="-1"></a><span class="co"># Plot the k-NN distance graph (with k=10)</span></span>
<span id="cb214-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb214-2" tabindex="-1"></a><span class="fu">kNNdistplot</span>(ptc30[,<span class="sc">-</span><span class="dv">4</span>], <span class="at">k =</span> <span class="dv">10</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/k-NN-graph-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Once the best <span class="math inline">\(MinPts\)</span> and <span class="math inline">\(eps\)</span> parameter have been selected, the DBSCAN function can be run.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-1" tabindex="-1"></a><span class="co"># Eps=1m (~3xsigma) ; MinPts=10</span></span>
<span id="cb215-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-2" tabindex="-1"></a>cl30<span class="ot">&lt;-</span><span class="fu">dbscan</span>(ptc30, <span class="dv">1</span>, <span class="at">minPts=</span><span class="dv">10</span>)</span>
<span id="cb215-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-3" tabindex="-1"></a></span>
<span id="cb215-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-4" tabindex="-1"></a><span class="co"># Inspect the results:</span></span>
<span id="cb215-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-5" tabindex="-1"></a><span class="fu">str</span>(cl30)</span>
<span id="cb215-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-6" tabindex="-1"></a><span class="fu">summary</span>(cl30<span class="sc">$</span>cluster)</span>
<span id="cb215-7"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb215-7" tabindex="-1"></a><span class="fu">sum</span>(cl30<span class="sc">$</span>cluster<span class="sc">==</span><span class="dv">0</span>)</span></code></pre></div>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-1" tabindex="-1"></a><span class="co"># Plot only the detected clusters.</span></span>
<span id="cb216-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-2" tabindex="-1"></a></span>
<span id="cb216-3"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-3" tabindex="-1"></a><span class="co"># Join the data:</span></span>
<span id="cb216-4"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-4" tabindex="-1"></a>cl30<span class="ot">&lt;-</span><span class="fu">cbind</span>(ptc30, <span class="at">cluster=</span>cl30<span class="sc">$</span>cluster)</span>
<span id="cb216-5"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-5" tabindex="-1"></a></span>
<span id="cb216-6"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-6" tabindex="-1"></a><span class="co"># Save as data frame and remove the noise (label==0)</span></span>
<span id="cb216-7"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-7" tabindex="-1"></a>cl30_df<span class="ot">&lt;-</span><span class="fu">as.data.frame</span>(<span class="fu">subset</span>(cl30, cl30<span class="sc">$</span>cluster<span class="sc">&gt;=</span><span class="dv">1</span>))</span>
<span id="cb216-8"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-8" tabindex="-1"></a></span>
<span id="cb216-9"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-9" tabindex="-1"></a><span class="co"># Simple plot:</span></span>
<span id="cb216-10"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb216-10" tabindex="-1"></a><span class="fu">plot</span>(cl30_df<span class="sc">$</span>X, cl30_df<span class="sc">$</span>Y, <span class="at">col=</span>cl30_df<span class="sc">$</span>cluster, <span class="at">pch=</span><span class="dv">20</span>)</span></code></pre></div>
<p><img src="08-DBSCAN_files/figure-html/plot-clusters-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb217-1" tabindex="-1"></a><span class="co"># Animated 3D-plot:</span></span>
<span id="cb217-2"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb217-2" tabindex="-1"></a><span class="fu">plot3d</span>(cl30_df, <span class="at">col=</span>cl30_df<span class="sc">$</span>cluster, <span class="at">pch=</span><span class="dv">20</span>)</span></code></pre></div>
<p>Finally you can export the result as a *.txt file and import it in a GIS system for further analyses, such as to determine the volumes of loss or gain of material.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#cb218-1" tabindex="-1"></a><span class="fu">write.table</span>(cl30_df, <span class="at">file=</span><span class="st">&quot;cls30_1_10.txt&quot;</span>, <span class="at">sep=</span><span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="conclusions-and-further-analyses-4" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Conclusions and further analyses<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#conclusions-and-further-analyses-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The proposed method allowed to detection of features of changes on a rock glacier front located in the Swiss Alps.
Single cluster features of erosion and deposition/front movements were extracted directly from point clouds, detected by DBSCAN without the necessity of interpolate the 3-D original data.</p>
<p>To ensure that everything is perfectly clear, we propose you to do this lab again, by changing the values of <em>MinPts</em> and <em>eps</em> and discuss the compare the resulting extracted features.</p>
</div>
<div id="further-reading-on-this-topic-2" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Further reading on this topic<a href="dbscan-for-3d-fetures-detection-in-point-clouds.html#further-reading-on-this-topic-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
<h3>References<a href="references-1.html#references-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-micheletti_geomorphological_2017" class="csl-entry">
Micheletti, N., Tonini, M., &amp; Lane, S. N. (2017). Geomorphological activity at a rock glacier front detected with a 3D density-based clustering algorithm. <em>Geomorphology</em>, <em>278</em>, 287–297. <a href="https://doi.org/10.1016/j.geomorph.2016.11.016">https://doi.org/10.1016/j.geomorph.2016.11.016</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="segmentation-analysis-with-som-on-census-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/EugeneGIS/AGDAbook/edit/master/08-DBSCAN.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["fake-book.pdf", "fake-book.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
